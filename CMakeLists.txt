PROJECT(rpc)
CMAKE_MINIMUM_REQUIRED (VERSION 3.17.3)
SET(CMAKE_CXX_FLAGS "-g -Wall -Werror -std=c++11")

ADD_SUBDIRECTORY(libs/api)
FIND_PACKAGE(gRPC CONFIG REQUIRED)



INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}/libs/api)
INCLUDE_DIRECTORIES(${PROTOBUF_INCLUDE_DIRS})
ADD_EXECUTABLE(main main.cpp)
TARGET_LINK_LIBRARIES(main api gRPC::grpc++ ${PROTOBUF_LIBRARY})
